(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var s=n(2),r=n.n(s),a=n(13),i=n.n(a),o=(n(19),n(1)),l=n(3),c=n(4),h=n(5),d=n(7),u=n(6),p=n(11),f=function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))},j=["#00ffff","#000000","#0000ff","#ff00ff","#808080","#008000","#00ff00","#800000","#000080","#808000","#800080","#ff0000","#c0c0c0","#008080","#ffffff","#ffff00"];function v(t,e,n){void 0===e&&(e=2),(void 0===n||n<=0)&&(n=1e3);var s=Math.abs(t),r=" ";t<0&&(r="-");var a=" ",i=[" ","K","M","G","T"];for(var o in i){if(a=i[o],s<n)break;s/=n}for(var l="",c=(s=s.toFixed(e)).length;c<4+e;c++)l+=" ";return l+r+s+a}var x=n(0);function b(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=t[1]-t[0],s=g(n,e),r=Math.ceil(s*Math.ceil(t[0]/s)),a=[r];r<t[1];)r+=s,a.push(r);return a}var g=function(t,e){var n=t/e,s=Math.floor(Math.log(n)/Math.LN10),r=Math.pow(10,s),a=Math.round(n/r+.5);return a>5?a=10:a>2?a=5:a>1&&(a=2),a*r},y=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).BaseViewBox=[0,-10,514,137],t.PolyLines=[],t.Curves=[],t.SpPaths=[],t.Texts=[],t.Dots=[],t.ViewBox=t.BaseViewBox,t.NYRange=[2,102],t.NXRange=[52,502],t.Axes=[{points:[[[t.NXRange[0],t.NYRange[0]],[t.NXRange[0],t.NYRange[1]],[t.NXRange[1],t.NYRange[1]],[t.NXRange[1],t.NYRange[0]],[t.NXRange[0],t.NYRange[0]]]],attr:{stroke:"black",strokeWidth:1}}],t.LastInstances={},t}return Object(h.a)(n,[{key:"SelectRanges",value:function(){var t=[],e=[],n=!1,s=!1;return this.props.xrange&&2===this.props.xrange.length&&(t=this.props.xrange,n=!0),this.props.yrange&&2===this.props.yrange.length&&(e=this.props.yrange,s=!0),this.props.series.map((function(r){return f(r.data).filter((function(r){return(!n||r[0]>=t[0]&&r[0]<=t[1])&&(!s||r[1]>=e[0]&&r[1]<=e[1])}))})).forEach((function(r){var a=r.map((function(t){return t[0]})),i=r.map((function(t){return t[1]}));a.push.apply(a,Object(l.a)(t)),i.push.apply(i,Object(l.a)(e)),n||(t=[Math.floor(Math.min.apply(Math,Object(l.a)(a))),Math.ceil(Math.max.apply(Math,Object(l.a)(a)))]),s||(e=[Math.floor(Math.min.apply(Math,Object(l.a)(i))),Math.ceil(Math.max.apply(Math,Object(l.a)(i)))])})),t[0]===t[1]&&(t=[t[0]-1,t[1]+1]),e[0]===e[1]&&(e=[e[0]-1,e[1]+1]),[t,e]}},{key:"SetupTicksAndGrids",value:function(t,e){var n=this;this.SpPaths=this.Axes.slice();var s=this.props.yTickFunc?this.props.yTickFunc:function(t){return t},r=this.props.xTickFunc?this.props.xTickFunc:function(t){return t},a=this.props.tickClass?this.props.tickClass:"",i=this.props.xTickClass?this.props.xTickClass:a,o=this.props.yTickClass?this.props.yTickClass:a,l=[],c=[],h=[],d=[this.BaseViewBox[1],this.BaseViewBox[3]];if(this.LastInstances.xrange&&t[0]===this.LastInstances.xrange[0]&&t[1]===this.LastInstances.xrange[1])l=this.LastInstances.xGridLines,h=this.LastInstances.xTexts,c=this.LastInstances.xTickLines,d=this.LastInstances.yViewBox;else{var u=b(t,10),p=this.NYRange[1]+4,f=this.NYRange[1];if(u.forEach((function(e){var s=(e-t[0])*(n.NXRange[1]-n.NXRange[0])/(t[1]-t[0])+n.NXRange[0];c.push([[s,p],[s,f]]),l.push([[s,f],[s,n.NYRange[0]-2]]),h.push({attr:{x:s,y:p+14,textAnchor:"middle",className:i},val:r(e)})})),this.props.xLabel){var j=(this.NXRange[0]+this.NXRange[1])/2,v=p+28;h.push({attr:{x:j,y:v,textAnchor:"middle",className:i},val:this.props.xLabel}),d[1]+=14}this.LastInstances.xrange=t,this.LastInstances.xGridLines=l,this.LastInstances.xTexts=h,this.LastInstances.xTickLines=c,this.LastInstances.yViewBox=d}var x=[],g=[],y=[],O=[this.BaseViewBox[0],this.BaseViewBox[2]];if(this.LastInstances.yrange&&e[0]===this.LastInstances.yrange[0]&&e[1]===this.LastInstances.yrange[1])x=this.LastInstances.yGridLines,y=this.LastInstances.yTexts,g=this.LastInstances.yTickLines,O=this.LastInstances.xViewBox;else{var S=b(e),m=this.NXRange[0]-4,k=this.NXRange[0];if(S.forEach((function(t){var r=n.NYRange[1]-(t-e[0])*(n.NYRange[1]-n.NYRange[0])/(e[1]-e[0]);r<n.NYRange[0]||(g.push([[m,r],[k,r]]),x.push([[k,r],[n.NXRange[1]+2,r]]),y.push({attr:{x:m-2,y:r+4,textAnchor:"end",className:o},val:s(t)}))})),this.props.yLabel){var C=(this.NYRange[0]+this.NYRange[1])/2;y.push({attr:{x:0,y:C,textAnchor:"middle",className:o,transform:"rotate(270, 0,"+C+")"},val:this.props.yLabel}),O[0]-=10}this.LastInstances.yrange=e,this.LastInstances.yGridLines=x,this.LastInstances.yTexts=y,this.LastInstances.yTickLines=g,this.LastInstances.xViewBox=O}this.SpPaths.push({points:c.concat(g),attr:{stroke:"black",strokeWidth:2}}),this.SpPaths.push({points:l.concat(x),attr:{stroke:"gray",strokeWidth:1}}),this.Texts=h.concat(y),this.ViewBox=[O[0],d[0],O[1],d[1]]}},{key:"PreparePlots",value:function(){var t,e=this,n=[],s=[],r=this.SelectRanges(),a=Object(p.a)(r,2),i=a[0],o=a[1];this.SetupTicksAndGrids(i,o),this.props.series.forEach((function(t,r){if(!(t.length<=1)){var a=f(t.data).slice();if(a=a.map((function(t){var n=t[0],s=t[1];return[(n-i[0])*(e.NXRange[1]-e.NXRange[0])/(i[1]-i[0])+e.NXRange[0],e.NYRange[1]-(s-o[0])*(e.NYRange[1]-e.NYRange[0])/(o[1]-o[0])]})),e.props.points&&a.forEach((function(n){n[0]<e.NXRange[0]||n[0]>e.NXRange[1]||n[1]<e.NYRange[0]||n[1]>e.NYRange[1]||s.push({attr:{cx:n[0],cy:n[1],r:3,fill:"white",stroke:t.color?t.color:"#ff00ff",strokeWidth:t.strokeWidth?t.strokeWidth:"2"}})})),e.props.spline){var l=f(a),c=Object(p.a)(l,2),h=function(t,e){var n,s=t.length;if(s!==e.length)throw new Error("Need an equal count of xs and ys.");if(0===s)return function(t){return 0};if(1===s){var r=+e[0];return function(t){return r}}var a=[];for(n=0;n<s;n++)a.push(n);a.sort((function(e,n){return t[e]<t[n]?-1:1}));var i=t,o=e;for(t=[],e=[],n=0;n<s;n++)t.push(+i[a[n]]),e.push(+o[a[n]]);var l=[],c=[],h=[];for(n=0;n<s-1;n++){var d=t[n+1]-t[n],u=e[n+1]-e[n];c.push(d),l.push(u),h.push(u/d)}var p=[h[0]];for(n=0;n<c.length-1;n++){var f=h[n],j=h[n+1];if(f*j<=0)p.push(0);else{var v=c[n],x=c[n+1],b=v+x;p.push(3*b/((b+x)/f+(b+v)/j))}}p.push(h[h.length-1]);var g=[],y=[];for(n=0;n<p.length-1;n++){var O=p[n],S=h[n],m=1/c[n],k=O+p[n+1]-S-S;g.push((S-O-k)*m),y.push(k*m*m)}return function(n){var s=t.length-1;if(n===t[s])return e[s];for(var r,a=0,i=y.length-1;a<=i;){r=Math.floor(.5*(a+i));var o=t[r];if(o<n)a=r+1;else{if(!(o>n))return e[r];i=r-1}}s=Math.max(0,i);var l=n-t[s],c=l*l;return e[s]+p[s]*l+g[s]*c+y[s]*l*c}}(c[0],c[1]);a=[];for(var d=e.NXRange[0];d<=e.NXRange[1];d+=5){var u=h(d);a.push([d,u])}}n.push({points:a,attr:{fill:"none",stroke:t.color?t.color:"#ff00ff",strokeWidth:t.strokeWidth?t.strokeWidth:"2"},curve:!0})}})),this.PolyLines=[],(t=this.PolyLines).push.apply(t,n),this.Dots=s}},{key:"render",value:function(){this.PreparePlots();var t={x:this.NXRange[0],y:this.NYRange[0],width:this.NXRange[1]-this.NXRange[0],height:this.NYRange[1]-this.NYRange[0]},e=0;return Object(x.jsxs)("svg",{viewBox:this.ViewBox.join(" "),children:[Object(x.jsx)("clipPath",{id:"shape",children:Object(x.jsx)("rect",Object(o.a)({},t))}),this.SpPaths.map((function(t,n){var s=[];return t.points.forEach((function(t){s.push(["M"]),s.push(t[0].join(" ")),s.push("L");var e=t.slice(1).map((function(t){return t.join(" ")})).join(", ");s.push(e)})),e+=1,Object(x.jsx)("path",Object(o.a)(Object(o.a)({},t.attr),{},{fill:"none",d:s.join(" ")}),e)})),this.Texts.map((function(t,n){return e+=1,Object(x.jsx)("text",Object(o.a)(Object(o.a)({},t.attr),{},{children:t.val}),e)})),this.PolyLines.map((function(t,n){var s="";return t.curve&&(s="url(#shape)"),e+=1,Object(x.jsx)("polyline",Object(o.a)(Object(o.a)({clipPath:s,fill:"none"},t.attr),{},{points:t.points.map((function(t){return t.join(",")})).join(" ")}),e)})),this.Curves.map((function(t,n){var s=["M"];s.push(t.points[0].join(" ")),s.push("A");var r=t.points.slice(1).map((function(t){return t.join(" ")})).join(", ");return s.push(r),e+=1,Object(x.jsx)("path",Object(o.a)(Object(o.a)({clipPath:"url(#shape)",fill:"none"},t.attr),{},{d:s.join(" ")}),e)})),this.Dots.map((function(t,n){return e+=1,Object(x.jsx)("circle",Object(o.a)({},t.attr),e)}))]})}}]),n}(s.Component),O=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).FetchTimer=null,s.IntervalExpiredFor=0,s.MaxDisplayTime=100,s.PlotData={time:0,thr:{},bytes:{}},s.ColorInputElements={},s.ContainerCss={margin:"5px",border:"2px solid black",padding:"5px",float:"left"},s.BlockViewCss={display:"block",float:"left"},s.LegendBoxCss={width:"40px",height:"20px"},s.IfcContCss={marginLeft:"20px",display:"inline-block"},s.RxTxBytesHolderCss={marginLeft:"20px",fontFamily:"'Courier New', Courier, monospace"},s.state={play:!0,plotDot:!0,pltData:{time:0,thr:{},bytes:{}},ifcs:[],checked:{}},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({play:!!this.props.playAll&&this.props.playAll,plotDot:!!this.props.plotDot&&this.props.plotDot}),this.FetchTimer=setInterval((function(e){return t.OnTick(e)}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.FetchTimer)}},{key:"componentDidUpdate",value:function(t,e,n){var s={},r=!1;this.props.playAll!==t.playAll&&(s.play=this.props.playAll,r=!0),this.props.plotDot!==t.plotDot&&(s.plotDot=this.props.plotDot,r=!0),r&&this.setState(s)}},{key:"OnTick",value:function(t){var e=this;if(this.state.play)return this.IntervalExpiredFor+=1,fetch(this.props.server+"?"+this.IntervalExpiredFor).then((function(t){return t.json()})).then((function(t){e.RecvData(t)})),null}},{key:"RecvData",value:function(t){var e=this,n=this.PlotData.time,s=t.time;if(!(s<=n)){var r=Object(o.a)({},this.PlotData.bytes),a={},i={};for(var l in t.ifcs){a[l]=[t.ifcs[l].rx_bytes,t.ifcs[l].tx_bytes];var c=0,h=0;if(s-n<=this.MaxDisplayTime&&null!=r[l]&&(c=8*(a[l][0]-r[l][0])/(s-n),h=8*(a[l][1]-r[l][1])/(s-n),isNaN(c)||isNaN(h)))return;i[l]=[c,h,s]}var d={};for(l in i){var u=[];this.PlotData.thr[l]&&(u=this.PlotData.thr[l].filter((function(t){return s-t[2]<=e.MaxDisplayTime}))),u.push(i[l]),d[l]=u}var p=Object.keys(d),f=Object(o.a)({},this.state.checked);p.forEach((function(t,n){if(!(t in e.props.colors)){var s=j[n%j.length];e.props.onColorUpdate(t,s)}t in e.state.checked||(f[t]=!0)})),this.PlotData={thr:d,bytes:a,time:s},this.setState({pltData:this.PlotData,ifcs:p,checked:f})}}},{key:"OnToggleChecked",value:function(t){var e=Object(o.a)({},this.state.checked);e[t]=!this.state.checked[t],this.setState({checked:e})}},{key:"OnColorClicked",value:function(t){this.ColorInputElements[t]&&this.ColorInputElements[t].click()}},{key:"RenderPlot",value:function(){var t=this,e=[],n=[],s=this.state.pltData.time,r=this.props.xrangeMin?0-this.props.xrangeMin:-10,a=this.state.plotDot;return this.state.ifcs.forEach((function(a){var i=t.props.colors[a];if(a in t.state.checked&&t.state.checked[a]){var o=s+r-2,l=t.state.pltData.thr[a].filter((function(t){return t[2]>o})),c=f(l),h=c[0],d=c[1],u=c[2].map((function(t){return t-s}));e.push({data:[u,h],color:i}),n.push({data:[u,d],color:i})}})),Object(x.jsxs)("div",{children:[Object(x.jsx)(y,{series:n,width:"500",height:"200",xrange:[r,0],points:a,yTickFunc:function(t){return v(t,1)},xTickFunc:function(t){return""},tickClass:"plotTicks",yLabel:"TX",spline:this.props.spline}),Object(x.jsx)(y,{series:e,width:"500",height:"200",xrange:[r,0],points:a,yTickFunc:function(t){return v(t,1)},tickClass:"plotTicks",yLabel:"RX",spline:this.props.spline})]})}},{key:"RenderIfc",value:function(t,e){var n=this,s=this.props.colors[t];return Object(x.jsxs)("div",{style:this.BlockViewCss,children:[Object(x.jsxs)("div",{style:this.IfcContCss,children:[Object(x.jsx)("input",{type:"checkbox",style:{float:"left"},checked:this.state.checked[t]?"checked":"",readOnly:!0,onClick:function(e){return n.OnToggleChecked(t)}}),Object(x.jsxs)("div",{style:this.BlockViewCss,children:[t,":"]}),Object(x.jsx)("input",{type:"color",onChange:function(e){n.props.onColorUpdate(t,e.currentTarget.value)},style:Object(o.a)(Object(o.a)(Object(o.a)({},this.LegendBoxCss),this.BlockViewCss),{},{background:s+" none repeat scroll 0% 0%",marginLeft:"20px",border:0,padding:0}),"data-clr-query":"server1591503971937","data-clr-ifc":"wlp7s0",value:s})]}),Object(x.jsxs)("div",{style:this.RxTxBytesHolderCss,children:[Object(x.jsx)("b",{children:"\u2191"}),"TX:",Object(x.jsx)("span",{style:{color:s,whiteSpace:"pre"},children:v(this.PlotData.bytes[t][1])+"B"})]}),Object(x.jsxs)("div",{style:this.RxTxBytesHolderCss,children:[Object(x.jsx)("b",{children:"\u2193"}),"RX:",Object(x.jsx)("span",{style:{color:s,whiteSpace:"pre"},children:v(this.PlotData.bytes[t][0])+"B"})]})]},e)}},{key:"render",value:function(){var t=this,e=this.state.play?Object(x.jsx)(x.Fragment,{children:"\u25ae\u25ae"}):Object(x.jsx)(x.Fragment,{children:"\u25b6"});return Object(x.jsxs)("div",{style:this.ContainerCss,ref:this.props.fref,children:[Object(x.jsx)("span",{style:{float:"left",cursor:"pointer",color:"green"},onClick:function(e){t.props.onInfoClick&&t.props.onInfoClick()},children:"\ud83d\udec8"}),Object(x.jsx)("span",{style:{float:"left",cursor:"pointer",padding:"0 5px"},onClick:function(e){return t.setState({play:!t.state.play})},children:e}),Object(x.jsx)("span",{style:{float:"left",cursor:"pointer",padding:"0 5px"},onClick:function(e){return t.setState({plotDot:!t.state.plotDot})},children:"\u25ef"}),Object(x.jsx)("span",{style:{float:"right",cursor:"pointer",color:"red"},onClick:function(e){t.props.onClose&&t.props.onClose()},children:"\u2716"}),"//         ",Object(x.jsx)("span",{style:{float:"right",cursor:"pointer",padding:"0 5px"},onClick:function(e){t.props.onFToggle&&t.props.onFToggle()},children:"\uf065"}),Object(x.jsx)("center",{children:Object(x.jsx)("h2",{style:{margin:"0"},children:this.props.name})}),Object(x.jsx)("table",{style:{width:(this.props.width?this.props.width:500)+"px"},children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{verticalAlign:"middle",width:"20px",writingMode:"vertical-lr",transform:"rotate(180deg)"},children:"Speed (bps)"}),Object(x.jsx)("td",{children:this.RenderPlot()})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{}),Object(x.jsx)("td",{style:{textAlign:"center",verticalAlign:"top",padding:"0 0 10px 0"},children:"Time (sec)"})]}),Object(x.jsx)("tr",{children:Object(x.jsxs)("td",{colSpan:2,children:[this.state.ifcs.map((function(e,n){return t.RenderIfc(e,n)})),Object(x.jsx)("br",{}),"\xa0"]})})]})})]})}}]),n}(s.Component);O.defaultProps={displayTime:10,playAll:!0,plotDot:!1};var S=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"RenderCloseButton",value:function(){if(this.props.closeButton)return Object(x.jsx)("span",{className:"modal-basic-close",onClick:this.props.onClose,children:"\xd7"})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return this.props.open?Object(x.jsx)("div",{className:"modal-basic",children:Object(x.jsxs)("div",{className:"modal-basic-content",children:[this.RenderCloseButton(),this.props.children]})}):Object(x.jsx)(x.Fragment,{})}}]),n}(s.Component);function m(t){return Object(x.jsx)(S,{open:!0,onClose:function(e){return t.onClose(e)},children:Object(x.jsx)("table",{width:"100%",children:Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colspan:"2",children:t.children})}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{align:"right",width:"50%",children:Object(x.jsx)("button",{name:"No",style:{backgroundColor:"green"},onClick:function(e){return t.onNo(e)},children:"No"})}),Object(x.jsx)("td",{align:"left",children:Object(x.jsx)("button",{name:"Yes",style:{backgroundColor:"red"},onClick:function(e){return t.onYes(e)},children:"Yes"})})]})]})})})}function k(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{align:"right",width:"50%",children:t.label}),Object(x.jsx)("td",{align:"left",children:Object(x.jsx)("input",{defaultValue:t.defaultValue,name:t.name,type:t.type?t.type:"text"})})]})}function C(t){return Object(x.jsx)(S,{open:!0,onClose:function(e){return t.onClose(e)},children:Object(x.jsx)("form",{onSubmit:function(e){return t.onSubmit(e)},children:Object(x.jsx)("table",{width:"100%",children:Object(x.jsxs)("tbody",{children:[t.children,Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:"2",align:"center",children:Object(x.jsx)("input",{className:"button",type:"submit",value:"Submit"})})})]})})})})}S.defaultProps={closeButton:!0,open:!0};var w=n(14),N=n.n(w),M=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).ImportElement=null,s.Widths=[200,500,900],s.state={addNewServerModal:!1,addThisServerModal:!1,playAll:!0,xrangeMin:10,editServerIndexModal:-1,deleteServerIndexModal:-1,importConfigModal:!1,removeAllServersModal:!1,spline:!1,width:s.Widths[1],serverStates:s.restoreServerStateFromLocalStorage()},s}return Object(h.a)(n,[{key:"addServer",value:function(t,e,n){var s={id:n,name:e,server:t,colors:{}};this.setState({serverStates:[].concat(Object(l.a)(this.state.serverStates),[s])})}},{key:"updateServer",value:function(t,e,n){var s={id:n,name:e,server:t,colors:{}};this.setState({serverStates:this.state.serverStates.map((function(t,e){return n===e?s:t}))})}},{key:"restoreServerStateFromLocalStorage",value:function(){return"undefined"!==typeof Storage&&localStorage.serverStates?JSON.parse(localStorage.serverStates):[]}},{key:"storeServerStateToLocalStorage",value:function(){"undefined"!==typeof Storage&&(localStorage.serverStates=JSON.stringify(this.state.serverStates))}},{key:"componentDidUpdate",value:function(t,e){this.state.serverStates!==e.serverStates&&this.storeServerStateToLocalStorage()}},{key:"handleLoadConfig",value:function(t){var e=this,n=t.target,s=new FileReader;s.onload=function(){var t=s.result,n=JSON.parse(t);e.setState({serverStates:n,importConfigModal:!1})},s.readAsText(n.files[0])}},{key:"handleNewServerSubmitted",value:function(t){t.preventDefault();var e=new FormData(t.target),n=e.get("addr"),s=e.get("name");if(""!==n&&null!==n&&""!==s&&null!==s){n.startsWith("https://")||n.startsWith("http://")||(n="http://"+n);var r=(new Date).getTime();this.addServer(n,s,r),this.setState({addNewServerModal:!1})}else alert("invalid input")}},{key:"handleEditServerSubmitted",value:function(t){t.preventDefault();var e=new FormData(t.target),n=e.get("addr"),s=e.get("name");if(""!==n&&null!==n&&""!==s&&null!==s){n.startsWith("https://")||n.startsWith("http://")||(n="http://"+n);var r=this.state.editServerIndexModal;this.updateServer(n,s,r),this.setState({editServerIndexModal:-1})}else alert("invalid input")}},{key:"handleUpdateColor",value:function(t,e,n){var s=this.state.serverStates.map((function(s,r){return t===r&&(s.colors[e]=n),s}));this.setState({serverStates:s})}},{key:"renderNewServerModal",value:function(){var t=this;if(this.state.addNewServerModal)return Object(x.jsxs)(C,{onClose:function(e){return t.setState({addNewServerModal:!1})},onSubmit:function(e){return t.handleNewServerSubmitted(e)},children:[Object(x.jsx)(k,{label:"Name:",name:"name"}),Object(x.jsx)(k,{label:"Address:",name:"addr"})]});if(this.state.addThisServerModal){var e=(new Date).getTime();this.addServer("/","Current",e),this.setState({addThisServerModal:!1})}}},{key:"renderServerInfoModal",value:function(){var t=this;if(this.state.editServerIndexModal>-1&&this.state.editServerIndexModal<this.state.serverStates.length){var e=this.state.serverStates[this.state.editServerIndexModal];return Object(x.jsxs)(C,{onClose:function(e){return t.setState({editServerIndexModal:-1})},onSubmit:function(e){return t.handleEditServerSubmitted(e)},children:[Object(x.jsx)(k,{label:"Name:",name:"name",defaultValue:e.name}),Object(x.jsx)(k,{label:"Address:",name:"addr",defaultValue:e.server})]})}}},{key:"renderConfigLoadModal",value:function(){var t=this;if(this.state.importConfigModal)return Object(x.jsx)(m,{onClose:function(e){return t.setState({importConfigModal:!1})},onYes:function(e){t.ImportElement&&t.ImportElement.click()},onNo:function(e){t.setState({importConfigModal:!1})},children:"Are you sure? This action will wipe current layout and load the stored one."})}},{key:"renderDeleteServerModal",value:function(){var t=this;if(this.state.deleteServerIndexModal>=0&&this.state.deleteServerIndexModal<this.state.serverStates.length)return Object(x.jsx)(m,{onClose:function(e){return t.setState({deleteServerIndexModal:-1})},onYes:function(e){t.setState({deleteServerIndexModal:-1,serverStates:t.state.serverStates.filter((function(e,n){return n!==t.state.deleteServerIndexModal}))})},onNo:function(e){t.setState({deleteServerIndexModal:-1})},children:"Are you sure? This action will wipe current layout and load the stored one."})}},{key:"renderRemoveAllServerModal",value:function(){var t=this;if(this.state.removeAllServersModal)return Object(x.jsx)(m,{onClose:function(e){return t.setState({v:!1})},onYes:function(e){t.setState({serverStates:[],removeAllServersModal:!1})},onNo:function(e){t.setState({removeAllServersModal:!1})},children:"Are you sure? This action will wipe current layout and load the stored one."})}},{key:"renderServer",value:function(t,e){var n=this;return Object(x.jsx)(N.a,{onChange:function(t){console.log("Full Screen Changed",t)},children:function(s){var r=s.ref,a=s.onToggle;return Object(x.jsx)(O,Object(o.a)(Object(o.a)({fref:r,onFToggle:a,xrangeMin:n.state.xrangeMin,playAll:n.state.playAll,plotDot:n.state.plotDot},t),{},{spline:n.state.spline,onColorUpdate:function(t,s){n.handleUpdateColor(e,t,s)},onInfoClick:function(){return n.setState({editServerIndexModal:e})},onClose:function(){n.setState({deleteServerIndexModal:e})},width:n.state.width}),"server:"+e)}})}},{key:"render",value:function(){var t=this,e=Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -10 190 130",style:{width:"19px",height:"11px"},children:Object(x.jsx)("path",{fill:"None",stroke:"#000",d:"M10 60 C 40 -10, 65 -10, 95 60 S 150 130, 180 60","stroke-width":"20"})}),n=Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -10 190 130",style:{width:"19px",height:"11px"},children:Object(x.jsx)("path",{fill:"None",stroke:"#000",d:"M 10 115 L 50 5, 140 115, 180 5","stroke-width":"20"})}),s=this.state.playAll?Object(x.jsx)(x.Fragment,{children:"\u25ae\u25ae"}):Object(x.jsx)(x.Fragment,{children:"\u25b6"}),r=this.state.spline?e:n,a=Object(x.jsx)("span",{role:"img","aria-label":"save",children:"\ud83d\udd0d"});return Object(x.jsxs)(x.Fragment,{children:[this.renderNewServerModal(),this.renderServerInfoModal(),this.renderConfigLoadModal(),this.renderDeleteServerModal(),this.renderRemoveAllServerModal(),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"controlBarLeft",children:[Object(x.jsx)("button",{title:"Add this server",onClick:function(e){return t.setState({addThisServerModal:!0})},children:"+"}),Object(x.jsx)("button",{title:"Add a new server",onClick:function(e){return t.setState({addNewServerModal:!0})},children:"\u2605"}),Object(x.jsx)("button",{title:"Toggle play/pause",onClick:function(e){return t.setState({playAll:!t.state.playAll})},children:s}),Object(x.jsx)("button",{title:"Toggle dot in plot",onClick:function(e){return t.setState({plotDot:!t.state.plotDot})},children:"\u25ef"}),Object(x.jsx)("button",{title:"Toggle spline in plot",onClick:function(e){return t.setState({spline:!t.state.spline})},children:r}),Object(x.jsxs)("button",{title:"Zoom-out",onClick:function(e){return t.setState({width:t.state.width-10})},disabled:this.state.width<=this.Widths[0],children:[a,"-"]}),Object(x.jsx)("button",{title:"neutral",onClick:function(e){return t.setState({width:t.Widths[1]})},disabled:this.state.width===this.Widths[1],children:a}),Object(x.jsxs)("button",{title:"Zoom-in",onClick:function(e){return t.setState({width:t.state.width+10})},disabled:this.state.width>=this.Widths[2],children:[a,"+"]}),Object(x.jsxs)("select",{onChange:function(e){var n=e.target;t.setState({xrangeMin:n.options[n.selectedIndex].value})},children:[Object(x.jsx)("option",{value:"10",children:"10 Sec"}),Object(x.jsx)("option",{value:"20",children:"20 Sec"}),Object(x.jsx)("option",{value:"30",children:"30 Sec"}),Object(x.jsx)("option",{value:"40",children:"40 Sec"}),Object(x.jsx)("option",{value:"50",children:"50 Sec"})]}),Object(x.jsx)("button",{title:"Remove all servers",onClick:function(e){return t.setState({removeAllServersModal:!0})},style:{color:"red"},children:"\u2716"})]}),Object(x.jsxs)("div",{className:"controlBarRight",children:[Object(x.jsx)("a",{download:"config.json",href:"data:json/application;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.state.serverStates)),children:Object(x.jsx)("button",{title:"Export current config",children:Object(x.jsx)("span",{role:"img","aria-label":"save",children:"\ud83d\udcbe"})})}),Object(x.jsx)("button",{title:"Import previously stored config",onClick:function(e){t.setState({importConfigModal:!0})},children:Object(x.jsx)("span",{role:"img","aria-label":"save",children:"\ud83d\udcc2"})})]}),Object(x.jsx)("div",{style:{clear:"both"}})]}),Object(x.jsx)("div",{id:"demotitle",children:Object(x.jsx)("center",{children:Object(x.jsx)("h1",{style:{margin:0},children:"Remote Network Activity Monitor"})})}),Object(x.jsx)("div",{className:"servers",children:this.state.serverStates.map((function(e,n,s){return t.renderServer(e,n,s)}))}),Object(x.jsx)("input",{ref:function(e){return t.ImportElement=e},type:"file",accept:"application/json",onChange:function(e){t.handleLoadConfig(e)},style:{display:"none"}})]})}}]),n}(s.Component);i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.070b1d79.chunk.js.map